---
layout: post
title: Fibonacci's Rainstorm
date: '2011-06-24T17:50:00.000-07:00'
author: Oatzy
tags:
- collatz
- music
- fibonacci
- markov chain
- nerd
- maths
modified_time: '2011-06-24T17:50:27.438-07:00'
thumbnail: http://3.bp.blogspot.com/-dyWaygfh1Mw/TgUqgVbCnjI/AAAAAAAAAg8/pYAuL2U_Nmo/s72-c/notes.jpg
blogger_id: tag:blogger.com,1999:blog-14769935.post-6175780257131559206
blogger_orig_url: https://oatzy.blogspot.com/2011/06/fibonaccis-rainstorm.html
---

A couple years back I got it in my head that I was going to try and write a musical about time travel.<br /><br />Yeah, I don't know either.<br /><br />But perhaps the maddest thing about that idea is that I have next to no musical training. Not that I'm the sort to let that stop me. So instead, the plan was to try and create music using maths. Which is a little weird. <br /><br />But not actually as mad as it sounds. After all, <a href="http://en.wikipedia.org/wiki/Pythagoras#Musical_theories_and_investigations">Pythagoras</a> (yes, that Pythagoras) was the first - or so the legend goes - to study the <a href="http://en.wikipedia.org/wiki/Pythagorean_tuning">maths of harmonics</a>, and why certain sounds are more pleasing to the ear than others.<br /><br />It's all to do with fractions. But I won't go into all that because it's not relevant to my thing - there's a good, brief explanation in this video, <a href="http://igniteshow.com/videos/how-solve-song-math-ep-85">How to Solve a Song with Math</a>.<br /><br /><br /><b>Musical Integers</b><br /><br />The basic idea was as simple as this - you assign an musical note to each integer - say, starting with <i>1 = Middle C</i>, <i>2 = C#</i>, etc. though there are other methods of assignment - then generate integer sequences and seeing what they sound like. <br /><br />For a good example of this sort of thing, here's mathemusician Vi Hart on the <a href="http://youtu.be/XJtLSLCJKHE">music of pi</a>.<br /><br />After playing around with various functions, what I settled on where that <i>Hailstone numbers</i>; which I misremembered as being called rainstorm numbers.<br /><br /><br /><b>Collatz Conjecture</b><br /><br />The <a href="http://en.wikipedia.org/wiki/Collatz_conjecture">Collatz Conjecture</a> (also known as the hailstone numbers) works something like this<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://xkcd.com/710/"><img border="0" height="320" src="http://imgs.xkcd.com/comics/collatz_conjecture.png" width="220" /></a></div>Well, all except the last sentence fragment. The actual idea is that, regardless of what starting number you pick, the sequence will always end on the number 1 (full details on the <a href="http://en.wikipedia.org/wiki/Collatz_conjecture">wiki page</a>).<br /><br />The <i>Collatz Conjecture</i> is currently unproven, though recently someone published a <a href="http://science.slashdot.org/story/11/06/05/1446209/Collatz-Proof-Proposed-Hailstone-Sequences-End-In-1">proposed proof</a> - currently <a href="http://www.reddit.com/r/math/comments/hqqph/collatz_3n_1_conjecture_solved/c1xp6iu">under scrutiny</a>. But that's a whole other story.<br /><br />So you pick some number, generate the sequence and see what it sounds like. Here's the sequence for 12<br /><br /><object height="81" width="100%"> <param name="movie" value="http://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F17796950"></param><param name="allowscriptaccess" value="always"></param><embed allowscriptaccess="always" height="81" src="http://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F17796950" type="application/x-shockwave-flash" width="100%"></embed> </object><a href="http://soundcloud.com/oatzy/collatz-12"></a><br /><div style="text-align: center;">That is - <i>12, 6, 3, 10, 5, 16, 8, 4, 2, 1</i></div><br />The problem with using hailstone numbers is that it has the potential for massive jumps - for example <i>7, 22, 11, 34, 17, 52</i>, etc - and such a sequence would not sound pleasing (this goes back to Pythagoras).<br /><br /><br /><b>Lateralis</b><br /><br />So my second idea was to combine it with the <a href="http://en.wikipedia.org/wiki/Fibonacci_sequence">Fibonacci Sequence</a> - that is <i>1, 1, 2, 3, 5, 8, 13</i>, etc - where each number in the sequence is the sum of the two preceding numbers.<br /><br />This was actually inspired, slightly, by the <i>Tool</i> song <i><a href="http://youtu.be/EDlC7oG_2W4">Lateralis</a></i>, where the syllables of the lyrics form a rising and falling Fibonacci Sequence: <br /><blockquote><i>Black / then / white are / all I see / in my infancy /       red and yellow then came to be / reaching out to me / lets me see.</i></blockquote>So the idea was to perform the <i>Collatz algorithm</i> on the numbers of the <i>Fibonacci sequence</i> - which sounds something like this<br /><br /><object height="81" width="100%"> <param name="movie" value="http://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F17797501"></param><param name="allowscriptaccess" value="always"></param><embed allowscriptaccess="always" height="81" src="http://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F17797501" type="application/x-shockwave-flash" width="100%"></embed> </object>&nbsp; <br /><div style="text-align: center;"><i>1 / 1 / 2, 1 / 3, 10, 5, 16, 8, 4, 2, 1 / 5, 16, 8, 4, 2, 1 / 8, 4, 2, 1</i></div><br /><br /><b>Finishing Touches</b><br /><br />Now the next part's a bit fuzzy. While I still have the notebook in which I worked out the tune, my notes aren't exactly clear.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-dyWaygfh1Mw/TgUqgVbCnjI/AAAAAAAAAg8/pYAuL2U_Nmo/s1600/notes.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://3.bp.blogspot.com/-dyWaygfh1Mw/TgUqgVbCnjI/AAAAAAAAAg8/pYAuL2U_Nmo/s320/notes.jpg" width="304" /></a></div>But, basically, what happened was that the resulting tune (see above) was far too erratic in places. So I made a lot of modifications to it, but still based vaguely on patterns in the generated tune.<br /><br />And the final touch I added to make the tune sound richer was chords. Again, I didn't know anything about chords. But a quick look on <a href="http://en.wikipedia.org/wiki/Chord_%28music%29#Triads">wikipedia</a> told me how to make major and minor chords, so I decided to add the minor chords of the first notes of each bar.<br /><br />Here's what the final tune sounds like<br /><br /><object height="81" width="100%"> <param name="movie" value="http://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F17797746"></param><param name="allowscriptaccess" value="always"></param><embed allowscriptaccess="always" height="81" src="http://player.soundcloud.com/player.swf?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F17797746" type="application/x-shockwave-flash" width="100%"></embed> </object>&nbsp; <br />Yes, it's a bit short and basic. But all things considered, I'd say I did pretty well.<br /><br /><br /><b>More Math Music</b><br /><br />I've already <a href="http://youtu.be/XJtLSLCJKHE">mentioned above</a> the music based on the digits of pi.<br /><br />There was also a guy who worked out a way to convert games of <a href="http://jonathanwstokes.com/2011/02/14/chess-music/">chess into music</a>.<br /><br />And, as mention briefly in a <a href="http://oatzy.blogspot.com/2011/04/markovs-next-tweet.html">previous post</a>, you can go (almost) completely random and generate music using Markov chains - <a href="http://thepasqualian.com/?p=1831">for example</a>. <br /><br /><br />Oatzy.<br /><br /><br />[Oh, and I never did write that musical. Not that that should surprise you.]