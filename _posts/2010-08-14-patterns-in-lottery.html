---
layout: post
title: Patterns in the Lottery
date: '2010-08-14T06:35:00.000-07:00'
author: Oatzy
tags: 
modified_time: '2010-08-14T06:37:36.951-07:00'
thumbnail: http://2.bp.blogspot.com/_p_IGrzjF6JY/TGaMD4cKrLI/AAAAAAAAAKk/OdvxkegJm5o/s72-c/Lotto-nums-2.jpg
blogger_id: tag:blogger.com,1999:blog-14769935.post-1654474005279655183
blogger_orig_url: https://oatzy.blogspot.com/2010/08/patterns-in-lottery.html
---

Back in 2009, Derren Brown once again shocked the world with his witch-craft, as he predicted the lottery, <a href="http://youtu.be/eTiPcp9xYg0">live on TV</a>.<br /><br />Later that week he explained how he did it - <a href="http://en.wikipedia.org/wiki/Wisdom_of_the_crowds">wisdom of the crowds</a>. Which is complete and utter bullshit. But it was a magic trick, so what do you expect? If anything, the whole incident was probably an ingenious marketing ploy for "<a href="http://en.wikipedia.org/wiki/Derren_Brown:_The_Events">The Events</a>" series of which it was a part. But I digress.<br /><br />The idea of Wisdom of the Crowd is that if you get a group of people to make a guess at a quantity (say, the number of coffee beans in a jar), then take the average, the average will be surprisingly accurate. It's just an application of the <a href="http://en.wikipedia.org/wiki/Law_of_large_numbers">law of large numbers</a>.<br /><br />But this doesn't work in the case of the lottery, because the lottery is completely random, and taking the average of all the previous numbers would give approximately the same six numbers for every week. Which doesn't happen.<br /><br />But are there any patterns in lottery numbers?<br /><br />The answer is, in fact, yes!<br /><br /><br />NB/ The explanation on this one is going to be sparse because I did all this a while back and didn't have the sense to keep clear notes on what exactly I was doing.<br /><br /><br /><b>Statistical Analysis</b><br /><br />Thanks to the <a href="http://lottery.merseyworld.com/Winning_index.html">internet</a>, I managed to get hold of all the winning numbers (for the standard UK lottery), which at the time, totaled 1432 sets of numbers.<br /><br />Plotting the occurrences of each number, you get something like this:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_p_IGrzjF6JY/TGaMD4cKrLI/AAAAAAAAAKk/OdvxkegJm5o/s1600/Lotto-nums-2.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/_p_IGrzjF6JY/TGaMD4cKrLI/AAAAAAAAAKk/OdvxkegJm5o/s320/Lotto-nums-2.jpg" /></a></div>So you've got some obvious peaks and troughs there - the biggest peak being <i>38</i>. So you'd think your best chance would be picking the six highest peaks, or lowest troughs if you subscribe to the "they're due to come up" theory.<br /><br />But, obviously, by the <i>law of large numbers</i>, that line <i>should</i> eventually flatten out.<br /><br />[Incidentally, the one time I did play the lottery after doing all this, I pick <i>38</i> as one of the numbers and it came up. Just saying.] <br /><br />I then put the numbers in numerical order and got the following sets:<br /><br />Mean - 7, 15, 22, 29, 36, 43<br />Mode - 1, 9, 23, 31, 38, 49<br />Median - 6, 14, 22, 29, 37, 45<br /><br />And if you can draw anything from at, it's that the 'average' set of numbers tend to be relatively evenly spaced. I did some measures of spread, standard deviation, etc., and the results seemed to agree. But that wasn't that interesting.<br /><br />But what is slightly interesting is what you get when you plot the numbers against what position they appear in, in the ordered sequence:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_p_IGrzjF6JY/TGaNhtMLH2I/AAAAAAAAAKs/VjDqX8VGfPw/s1600/Lotto-ordered-1.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/_p_IGrzjF6JY/TGaNhtMLH2I/AAAAAAAAAKs/VjDqX8VGfPw/s320/Lotto-ordered-1.jpg" /></a></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/_p_IGrzjF6JY/TGaNtVwFu_I/AAAAAAAAAK0/v4SlatzAN2Y/s1600/Lotto-ordered-1a.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/_p_IGrzjF6JY/TGaNtVwFu_I/AAAAAAAAAK0/v4SlatzAN2Y/s320/Lotto-ordered-1a.jpg" /></a></div>[The second one is odds of number, <i>x</i>, being in the <i>i-th</i> position in the ordered sequence.] <br /><br />So the pattern there isn't <i>obvious</i>, but the is a definite pattern.<br /><br />Based on the first plot, I tried fitting the numbers to <a href="http://en.wikipedia.org/wiki/Gaussian_curve">Gaussian curves</a>, and got something like this:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_p_IGrzjF6JY/TGaOWYsDYxI/AAAAAAAAAK8/t_7UsKIk2as/s1600/Lotto-ordered-2.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/_p_IGrzjF6JY/TGaOWYsDYxI/AAAAAAAAAK8/t_7UsKIk2as/s320/Lotto-ordered-2.jpg" /></a></div>Which all together looks like this<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_p_IGrzjF6JY/TGaOg5FqcbI/AAAAAAAAALE/nizxAi0M7Qc/s1600/Lotto-ordered-3.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/_p_IGrzjF6JY/TGaOg5FqcbI/AAAAAAAAALE/nizxAi0M7Qc/s320/Lotto-ordered-3.jpg" /></a></div>Which is a decent fit. But the truth was, there was a much simpler, more fundamental approach to fitting the curves.<br /><br /><br /><b>Combinatorics</b><br /><br />The way you work out your odds of winning the lottery is relatively straight-forward - explained <a href="http://en.wikipedia.org/wiki/Lottery_mathematics">here</a>. Have a quick read of that. Can't be bothered to explain myself.<br /><br />Now, again, I can't remember how I derived this, but the probability of the <i>i-th</i> ball being <i>x</i> (when the balls are put in numerical order) is given by:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_p_IGrzjF6JY/TGaQ0FZ1qPI/AAAAAAAAALM/_b2WXijaZ3A/s1600/lotto-eqn-1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/_p_IGrzjF6JY/TGaQ0FZ1qPI/AAAAAAAAALM/_b2WXijaZ3A/s320/lotto-eqn-1.png" /></a></div>And using that, we see what the plots above should actually look like:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/_p_IGrzjF6JY/TGaRF1VYZ5I/AAAAAAAAALU/B00LtexPfwI/s1600/Lotto-ordered-ideal-1.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/_p_IGrzjF6JY/TGaRF1VYZ5I/AAAAAAAAALU/B00LtexPfwI/s320/Lotto-ordered-ideal-1.jpg" /></a><a href="http://4.bp.blogspot.com/_p_IGrzjF6JY/TGaRMHxbUvI/AAAAAAAAALc/cImJDyueAXo/s1600/Lotto-ordered-ideal-2.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/_p_IGrzjF6JY/TGaRMHxbUvI/AAAAAAAAALc/cImJDyueAXo/s320/Lotto-ordered-ideal-2.jpg" /></a></div>Which is the exact same shape, only smoother (as you'd expect).<br /><br /><br /><b>Problem</b><br /><br />So say you want to know the probability of a certain (ordered) sequence, you just take the product,<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_p_IGrzjF6JY/TGaSJZMsK2I/AAAAAAAAALk/jXh9D4ItG5Q/s1600/lotto-eqn-2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/_p_IGrzjF6JY/TGaSJZMsK2I/AAAAAAAAALk/jXh9D4ItG5Q/s320/lotto-eqn-2.png" /></a></div>But that's where a problem arises.<br /><br />The first (smallest) number is most likely to be <i>1</i>, the last (largest) is most likely to be <i>49</i>, etc.<br /><br />Which does make sense. Say the smallest number is <i>1</i>, then the other five numbers can be anything (except <i>1</i>). If, on the other hand, the smallest number is <i>44</i>, then the other numbers can only be {<i>45, 46, 47, 48</i>, <i>49}</i>. So obviously, a sequence starting with <i>1</i> is massively more likely than a sequence starting with <i>44</i>.<br /><br />But that then seems to imply that there is a most likely sequence {<i>1, 11, 20, 30, 39, 49</i>}. And running the numbers, you find that that sequence is much more likely than {<i>1, 2, 3, 4, 5, 6</i>}.<br /><br />It's been a favourite of the mathematicians that all sequences of lottery numbers are equally likely (supported by calculation) - that {<i>1, 2, 3, 4, 5, 6</i>} is just as likely as, say,&nbsp; {<i>4, 12, 23, 33, 39, 48</i>}.<br /><br />So here's my challenge to you - <i>spot the hole in my ordered probability calculation</i>.<br /><br />Or is there a hole? What is actually going on here? <br /><br /><br />Oatzy.