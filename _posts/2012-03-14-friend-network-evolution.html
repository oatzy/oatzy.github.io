---
layout: post
title: Friend Network Evolution
date: '2012-03-14T17:53:00.000-07:00'
author: Oatzy
tags:
- nerd
- python
- sociology
- infographic
- maths-free
- graph
- programming
- graph theory
- twitter
- data analysis
- hand-waving
- network
modified_time: '2012-03-14T17:53:16.109-07:00'
thumbnail: http://1.bp.blogspot.com/-m9gsbg4BUYQ/T2EuhsHRmEI/AAAAAAAAAxk/6EfE3F5jbGY/s72-c/graph-20100831-alt.png
blogger_id: tag:blogger.com,1999:blog-14769935.post-1086313059562352253
blogger_orig_url: https://oatzy.blogspot.com/2012/03/friend-network-evolution.html
---

Back in February 2009, I created <a href="https://twitter.com/#%21/Oatz">my Twitter account</a>, upon the insistence of my then-girlfriend. I didn't get it. Back then, Facebook was where it was at, I didn't really get Twitter's appeal. I was pretty much just following the handful of people I knew in real life, and Stephen Fry.<br /><br />So I didn't use it much. I'd pop up every now and then, post a couple tweets and give up on it again. At one point, I even developed an irrational dislike of it - whenever I saw a site had a "follow us on Twitter" button, it irked me for some reason.<br /><br />But at some point, towards the end of 2009/early 2010, I gave it yet another try. I don't know why. And even when I started using it, I was resistant; still half-heartedly hating it. But what was different this time, is I started chatting with people, and I was introduced to new people.<br /><br />People who don't get Twitter think it's just that thing where you can tell people when you're <a href="http://news.bbc.co.uk/1/hi/8204842.stm">eating a sandwich</a>. It's not. It's the people that make Twitter. (Tweens and arseholes notwithstanding.)<br /><br />But I'm going off on a tangent.<br /><br /><br />By August 2010, I was well into Twitter - I was posting around <a href="http://oatzy.blogspot.com/2010/08/life-by-numbers.html">30 tweets per day</a>, and I had around 30 friends*. And back then, I decided I wanted to see what my friends network looked like. So I broke out <a href="http://www.python.org/">Python</a> and the <a href="https://dev.twitter.com/docs">Twitter API</a>, I pulled data, and I made <a href="http://oatzy.blogspot.com/2010/07/follow-up-twitter-network.html">the graph</a>. Here's an updated version of it.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-m9gsbg4BUYQ/T2EuhsHRmEI/AAAAAAAAAxk/6EfE3F5jbGY/s1600/graph-20100831-alt.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="203" src="http://1.bp.blogspot.com/-m9gsbg4BUYQ/T2EuhsHRmEI/AAAAAAAAAxk/6EfE3F5jbGY/s400/graph-20100831-alt.png" width="400" /></a></div>[click to embiggen] <br /><br />Fairly small, and tidy, and relatively uncomplicated. The bulk on the right is the people I knew in real life (from school, etc.) with a few strands of new acquaintances. Note how tightly packed and interconnected they are. To the left is mostly people I met through Twitter - and in particular, through PkmnTrainerJ.<br /><br />(In case you hadn't figured it out, the node and label sizes are proportional to number of connections.) <br /><br />By December 2010, I decided to have a look again.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-IsIJ823pD0c/T2EuvoRJ_mI/AAAAAAAAAxs/H6aoTk-HtWc/s1600/graph-20101208-alt.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="222" src="http://3.bp.blogspot.com/-IsIJ823pD0c/T2EuvoRJ_mI/AAAAAAAAAxs/H6aoTk-HtWc/s400/graph-20101208-alt.png" width="400" /></a></div>Again, this is an update of the version I <a href="http://oatzy.blogspot.com/2010/11/follow-up-twitter-bffs.html">originally posted</a>; and in this case, I've tried to arrange it so that key people stay in approximately the same place.<br /><br />So you still vaguely have that left-right divide, but now there's much more mixing in the middle. I'd made some new friends, but more interesting is the people who were already in the graph who formed new connections with others in my graph.<br /><br />I'd also like to draw your attention to shinelikestars_ (formerly shinelikestars6) - take a look at the previous graph, can you spot him? From 2 shared connections to 8 in the space of two months. I don't think there's any sort of point I'm trying to make here. I'm just pointing it out 'cause it's interesting.<br /><br /><br />And for the next year and a half I didn't do any data collecting. It became too labourious - Twitter changed its API, so that my old code didn't work, and I had to do everything by hand.<br /><br />So, the latest graph was March 2011 (technical details below). As you can imagine, a lot can happen in a year and a half.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-WhWaY6DHaYg/T2EvUGqpX6I/AAAAAAAAAx0/gOCt4_v1Arw/s1600/graph-20120309-alt-clean.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="206" src="http://3.bp.blogspot.com/-WhWaY6DHaYg/T2EvUGqpX6I/AAAAAAAAAx0/gOCt4_v1Arw/s400/graph-20120309-alt-clean.png" width="400" /></a></div>First of all, the new people add, and the old people removed. But more importantly, look how much tighter, and how much more 'segmented' the graph is. <br /><br />There are now three major groups, loosely centred on the three most connected of my friends.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-KedBgwGLPlo/T2EvsH7UiTI/AAAAAAAAAx8/oZHHoHrj0Ws/s1600/graph-20120309-groups.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="166" src="http://4.bp.blogspot.com/-KedBgwGLPlo/T2EvsH7UiTI/AAAAAAAAAx8/oZHHoHrj0Ws/s320/graph-20120309-groups.png" width="320" /></a></div>On the far right are, again, the people I knew in real life. In particular, note how little that group has changed since the first graph.<br /><br />In the middle, we have 'Shiney's People' - people I was introduced to by shinelikestars_. And on the left are the people I was introduced to by PkmnTrainerJ.<br /><br />The smaller groups circled in red are <a href="http://en.wikipedia.org/wiki/Cliques">cliques</a> - smaller subgroups that, at least from my point of view, form their own little groupings, where (almost) everyone is interconnected. The bottom left 'clique', for example, is my parents and big sister.<br /><br />And I suspect, if you were to extend the graph beyond my network, you would find that those cliques are just parts of larger interconnected groups.<br /><br />In case you were wondering, PkmnTrainerJ and SallyBembridge are most connected, both with degree 14. shinelikestars_ is next most, with degree 10.<br /><br />Notable disappearing nodes - Benjidoom, who deleted his account, then created a new, private one (benjirino); and AimlessAmy, who is a long story.<br /><br />I should also point out that the people I follow who aren't friends with anyone else in my network do not appear in the pictured graphs. Not that they aren't as cool, they just don't join onto the graph.<br /><br />* I use friend here to mean people who I follow and who follow me back. Though I would probably consider all the people in my current network (including those not pictured) friends to some degree.<br /><br /><br /><b>Technical stuff</b><br /><br />You can read details on how I collected the data before, in the <a href="http://oatzy.blogspot.com/2010/07/twitter-friend-network.html">previous blogs</a>. But, as I say, those methods don't work anymore.<br /><br />For this run, I read up on the API, and found some bits that don't need authentication to grab and manipulate.<br /><br />First, you can grab a list of a user's friends with this URL<br /><br /><i>https://api.twitter.com/1/friends/ids.xml?screen_name=&lt;username&gt;</i><br /><br />This will give you a list of the friends ID numbers, so you also need to use this to grab usernames<br /><br /><i>https://api.twitter.com/1/users/lookup.xml?user_id=&lt;idnumber&gt;</i><br /><br />There is also a URL to check if a user follows another user<br /><br /><i>https://api.twitter.com/1/friendships/exists.xml?user_id_a=&lt;idnumber1&gt;&amp;user_id_b=&lt;idnumber2&gt;</i><br /><br />Which works through the browser, but I couldn't get to work in my code. So in place, I used the site <a href="http://doesfollow.com/">DoesFollow.com</a>; partly because it uses the URL scheme <i>&nbsp;</i><br /><br /><i>DoesFollow.com/user1/user2</i>.<br /><br />Which is very convenient. Though I do worry all the requests might be putting strain on that site's server.<br /><br />So, putting all that together with a bit of Python, you get <a href="http://dl.dropbox.com/u/4635169/FriendLinks.py">something like this</a>.<br /><br /><br />A few important points:<br /><br />1) It will take a while to run. I have ~50 friends, and it took well over an hour to pull all the data. In terms of <a href="http://en.wikipedia.org/wiki/Computational_complexity_theory">computational complexity</a>, it's O(n^2), but each of those operations takes a significant amount of time.<br /><br />2) Twitter has an <a href="https://dev.twitter.com/docs/rate-limiting">API limit</a> of 150 requests per hour. The number of API requests the code will make is ~ the number of friends being looked up. I think. Which means, if you have more than 100 or so friends, this code probably won't work. Sorry. There might be a way around it, but I don't know how.<br /><br />3) Obviously, this doesn't work on protected accounts. So for those people you will have to grab data by hand. Though it's not <i>too</i> bad for a small enough number of people.<br /><br />If you do want to use the code, I've made it so you just have to change the username at the top, and run it. You will need to install Python though.<br /><br />For creating the graphs, I previously use <a href="http://www-958.ibm.com/software/data/cognos/manyeyes/">ManyEyes</a>. But I moved to using <a href="http://gephi.org/">Gephi</a>, because it allows for more customising. The output from the code is a text file with a list of name pairs, which you can import directly into Gephi. It will build the graph for you, and then you're free to play as you like.<br /><br /><br />Aaand... Yeah, I think that's about it.<br /><br /><br />Oatzy.<br /><br /><br />[shinelikestars6 lost his <a href="http://oatzy.blogspot.com/2010/07/follow-up-twitter-network.html">red circle</a>, on account of he isn't my nemesis anymore.]