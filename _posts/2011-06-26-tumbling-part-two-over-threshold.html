---
layout: post
title: 'Tumbling, Part Two: Over the Threshold'
date: '2011-06-26T12:57:00.000-07:00'
author: Oatzy
tags:
- graph
- programming
- nerd
- python
- voting
- twitter
- tweets
- maths
- modelling
- tumblr
modified_time: '2011-06-28T18:10:23.703-07:00'
thumbnail: http://3.bp.blogspot.com/-YYB6jrdjaiQ/Tgd-7Kxz6nI/AAAAAAAAAhc/xq23wOaFrc0/s72-c/vote-splits.png
blogger_id: tag:blogger.com,1999:blog-14769935.post-4034203143492651273
blogger_orig_url: https://oatzy.blogspot.com/2011/06/tumbling-part-two-over-threshold.html
---

<b>I Didn't Vote For This </b><br /><br />A short while back, while people still cared about <a href="http://www.bbc.co.uk/news/uk-politics-11243595">AV versus FPTP</a> voting, I wanted to come up with a voter simulation, so as to get data to compare the merits of the two (and a few other) systems, since real-world data is limited. Sadly, it came to no avail, since I had trouble coming up with a plausible way to simulate the behaviour of British voters.<br /><br />The basis of how it worked was this - each voter has ten '<i>vote points</i>'. These points are divided amongst the parties according to how much the voter likes each party.<br /><br />So if a voter was a strong <i>Conservative</i> supporter, they might give all their points to <i>Conservative</i>. A voter who's more liberal might give 6 points to the <i>Lib Dems</i> and 4 to <i>Labour</i>. Or whatever.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-YYB6jrdjaiQ/Tgd-7Kxz6nI/AAAAAAAAAhc/xq23wOaFrc0/s1600/vote-splits.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="216" src="http://3.bp.blogspot.com/-YYB6jrdjaiQ/Tgd-7Kxz6nI/AAAAAAAAAhc/xq23wOaFrc0/s400/vote-splits.png" width="400" /></a></div>In the case of the simulation, these points were going to be assigned randomly, but according to some <a href="http://en.wikipedia.org/wiki/Markov_chain">Markov Chain</a> type model - based on the typical <a href="http://news.bbc.co.uk/1/hi/uk_politics/election_2010/default.stm">voting habits of Brits</a>. This, by the way, is where I was having trouble - for large numbers of voters, the result were always the same.<br /><br />The other part of the model was to (randomly) assign to each voter an '<i>approval threshold</i>' - that is, if a voter assigns to a party a number of points higher than their personal <i>approval threshold</i>, then they 'approve' of that party, and will place a vote accordingly.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-4U7WPnKf3yQ/Tgd_vdY4hoI/AAAAAAAAAhg/1y1OPXyoweM/s1600/votes-approval.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="208" src="http://1.bp.blogspot.com/-4U7WPnKf3yQ/Tgd_vdY4hoI/AAAAAAAAAhg/1y1OPXyoweM/s400/votes-approval.png" width="400" /></a></div>So if, in the liberal example described above (<i>voter B</i> in the diagram), the voter has a threshold of 5, they would place a vote for only the <i>Lib Dems</i>; if, on the other hand, they had a threshold of 3, then (under an AV voting system) they would place a vote for both - order of preference: 1. <i>Lib Dem</i>, 2. <i>Labour</i>.<br /><br />(In the diagram, all three 'voters' are given the same approval  threshold for simplicity. The thresholds are by no means constant and  universal.) <br /><br /><br /><b>I Like It, But Not that Much</b><br /><br />So what does this have to do with Tumblr? Well. On Tumblr, you can either ignore a post, like it, or reblog it.<br /><br />Now, there are some people who will reblog almost anything that catches their fancy. Then there are people, like me, who are very picky and only reblog things they really like.<br /><br />This is basically analogous to the <i>approval threshold</i> in the voting sim.<br /><br />Obviously, the quality of a post is subjective (to some extent). But imagine first that for every post you see, you assign to it some rating from 0 to 10. The rating you assign to a given post will be (relatively) unique to you.<br /><br />Here is how we get around the problem of subjectivity,<br /><br />We assume that the ratings a large sample of people will assign to a given post will have some regular distribution - most likely a <a href="http://en.wikipedia.org/wiki/Normal_distribution">normal distribution</a> - where the average and spread of ratings reflects (to some extent) the quality of that post. Or, at least according to that particular sample of people.<br /><br />Each user then has two threshold values - a '<i>like threshold</i>' and a '<i>reblog threshold</i>'. And as before, if the rating a person assigns to a given post exceeds one of these thresholds, that person will either <i>like</i> or <i>reblog</i> the post (possibly both) accordingly.<br /><br /><br /><b>Some Asides</b><br /><br />It's worth noting that similar modelling can be applied to any piece of information that can be spread - whether it be on Twitter, by email, whatever - where you have some '<i>sharing threshold</i>' by which you judge whether or not you think a thing is worth sharing.<br /><br />This may vary wildly from situation to situation. But in most cases outside of Tumblr, you will tend to find that people typically have a higher <i>share threshold</i> - higher standards, are more pick, are more wary of what they share, etc. <br /><br />Another thing to consider, with Twitter in particular, the originator of a post can have a massive effect on how much said post is retweeted. <br /><br />For example, some people (fangirls) will retweet someone like Justin Bieber simply by virtue of the fact that it's Justin Bieber. Conversely, some people may not retweet someone like Piers Morgan because they don't like him - even if they would otherwise like something he posted enough to have retweeted it.<br /><br />Finally, people don't always share things simply because they like them - they may want to make some comment on the post, they may want to mock the post, whatever.<br /><br />But for simplicity, we're ignoring that all these eccentricities, on the assumption that including them would have no appreciable effect on the model.<br /><br /><br /><b>Model Affinity</b><br /><br />I wrote a quick model of this behaviour (Python, can be viewed/downloaded <a href="http://dl.dropbox.com/u/4635169/user.affinity-alt.py">here</a>).<br /><br />For this model, the user's thresholds are generated uniformly - that is, all numbers in the ranges have the same probability of being chosen,<br /><br />For the '<i>like threshold'</i> you pick a random number between 1 and 11.<br />For the<i> 'reblog threshold'</i> you pick a random number between the '<i>like threshold' </i>and 11<i>.</i><br /><br />The user's assessment of a post is randomly generated based on a normal distribution - in this case with <i>mean=5</i>, <i>sd=3</i>, constrained to the interval <i>[0,10]</i>. These values were chosen arbitrarily. <br /><br />For a simulation of <i>100,000</i> users, this model returns approximately <i>25,575 likes</i> and <i>14,487 reblogs</i>. This gives a '<i>reblog to like' ratio</i> of <i>0.56</i>.<br /><br />This is quite different from the <i>'R:L ratio'</i> of the Dr Who image, discussed in the <a href="http://oatzy.blogspot.com/2011/06/tumbling-part-one-some-background.html">previous post</a> - which turns out to be <i>1.42</i><br /><br />But if we (effectively) increase the quality of the post - <i>mean=10</i>, <i>sd=2</i>, same interval - we now get approximately <i>32,393 likes</i> and <i>41,872 reblogs</i>, giving a <i>R:L ratio</i> of <i>1.29</i><br /><br />Which reflects reality quite well - that is, the better a post is, the more reblogs it will get (and the higher its <i>R:L ratio</i>). You could also get a similar effect by lowering the approval thresholds of the users - effectively lowering the users' standards.<br /><br /><i>Note/</i> You could probably get a better replication of real world data by fine tuning the random variables. The ones used here were chosen fairly arbitrarily.<br /><br /><br /><b>Personal or Probable</b><br /><br />For large numbers of people, there are two ways you could work this into a model of post spreading:<br /><br />1) <i>On a per person basis</i><br /><br />That  is, for each user work out whether they will ignore, like, or reblog,  as you go. This would lead to richer behaviour on a per-simulation  basis, and is better if you want a more detailed, more 'precise' model.<br /><br />2) <i>Based on the averaged probability</i><br /><br />That  is, run a simulation for a large number of people (as above), work out the average  number of likes/reblogs, and use this as the 'probability of  liking/reblogging', constant for all users. So from the first simulation above, the probabilities would be:<br /><br /><i>p(reblog) ~ 0.14</i><br /><i>p(like) ~ 0.26</i><br /><br />This would make the behaviour more  uniform across multiple simulations, but would be less computationally  taxing.<br /><br />It can be argued that, when you average over a  large number of simulations, you will get (almost) identical results for  both approaches. So it's ultimately a matter of preference.<br /><br /><br />In <a href="http://oatzy.blogspot.com/2011/06/tumbling-part-three-stochastic-spread.html">Part 3</a> of the series, I'll be looking at constructing a model of how posts spread through Tumblr, building on the model described here.<br /><br /><br />Oatzy.<br /><br /><br /><b><i>[addendum]</i></b> -&nbsp; Due to a mild error, the section labeled '<i>Model Affinity</i>' had to be rewritten. If you read this post before this addendum was added, it's probably worth re-reading that section.