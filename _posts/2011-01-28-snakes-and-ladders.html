---
layout: post
title: Snakes and Ladders
date: '2011-01-28T18:12:00.000-08:00'
author: Oatzy
tags:
- markov chain
- nerd
- python
- infographic
- over-thinking
- snakes and ladders
- random
- statistics
- graph
- programming
- everyday maths
- problem solving
- hypothetical question
- maths
- modelling
- network
modified_time: '2011-01-29T05:50:40.907-08:00'
thumbnail: http://1.bp.blogspot.com/_p_IGrzjF6JY/TUNrrZ4Ju-I/AAAAAAAAAdo/wo-lOSx2MME/s72-c/snl-network-graph.png
blogger_id: tag:blogger.com,1999:blog-14769935.post-6032554309152356465
blogger_orig_url: https://oatzy.blogspot.com/2011/01/snakes-and-ladders.html
---

Or <i>Chutes and Ladder</i>, if you're American. Yes, I am talking about the board game.<br />The idea came from having read about people analysing Monopoly with simulations, <a href="http://en.wikipedia.org/wiki/Markov_chains">Markov chains</a> and the likes. You can read about it in <a href="http://www.amazon.co.uk/Math-Hysteria-Fun-games-mathematics/dp/0198613369/ref=sr_1_1?ie=UTF8&amp;s=books&amp;qid=1296265407&amp;sr=8-1">Math Hysteria</a> by <a href="http://en.wikipedia.org/wiki/Ian_Stewart_%28mathematician%29">Ian Stewart</a> or find a similar discussion <a href="http://www.tkcs-collins.com/truman/monopoly/monopoly.shtml">here</a>.<br /><br />In the book, Professor Stewart also suggests that the reader might like to try the same for Snakes and Ladders. So I did*.<br /><br /><br />If you're not familiar with Snakes and Ladders and how it works, you had a very deprived childhood. There's an example game board below<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://upload.wikimedia.org/wikipedia/en/b/ba/Cnl03.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="240" src="http://upload.wikimedia.org/wikipedia/en/b/ba/Cnl03.jpg" width="320" /></a></div>[<a href="http://en.wikipedia.org/wiki/Snakes_and_ladders">wikipedia</a>]<br /><br />I don't know if or by how much game boards vary. But for simplicity, I'm assuming this is a representative layout. Variations aren't likely to dramatically affect the overall behaviour.<br /><br /><br /><b>Simulating the Game</b><br /><br />You start with a 'board' with a value for each square. All squares start with a value of 0. You can simulate the dice roll by randomly picking a number between one and six and move accordingly. Whatever square you land on, you add one to that square's value. If you land on a snake or a ladder, you move along it. Repeat until you get to square 100.<br /><br />At the end, you have a record of how many times each square was visited. <br /><br />Here's a network graph of all possible moves.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_p_IGrzjF6JY/TUNrrZ4Ju-I/AAAAAAAAAdo/wo-lOSx2MME/s1600/snl-network-graph.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="166" src="http://1.bp.blogspot.com/_p_IGrzjF6JY/TUNrrZ4Ju-I/AAAAAAAAAdo/wo-lOSx2MME/s400/snl-network-graph.png" width="400" /></a></div>Over-arcs are forward movements (dice rolls and ladders), under-arcs are backwards movements (snakes).<br /><br />One run of the simulation is equivalent to one possible game. So what you do, is run the simulation, say, <i>10,000</i> times, and measure things like, how many times you land on each square, average or minimum number of turns it takes to get to the end, etc.<br /><br />There is a way of solving this exactly, and mathematically, as discussed for Monopoly in Ian Stewart's book, and indeed as was done in <a href="http://www.divbyzero.ca/oberman/w/images/c/cc/SnakesandLadders.pdf">this paper</a> [pdf]. But this way is much easier.<br /><br />You can get the code <a href="http://dl.dropbox.com/u/4635169/Snakes-and-Ladders.py">here</a>.<br /><br /><br /><b>Results</b><br /><br />Here's a graph of number of times each square is landed on (out of 10,000 simulations). Snakes are green, ladders are red, arcs show which squares are connected.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_p_IGrzjF6JY/TUQa0heAacI/AAAAAAAAAd8/IcR78jVo4Ls/s1600/Snakes-n-Ladders.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="265" src="http://1.bp.blogspot.com/_p_IGrzjF6JY/TUQa0heAacI/AAAAAAAAAd8/IcR78jVo4Ls/s400/Snakes-n-Ladders.png" width="400" /></a></div>And you've got this slightly weird, overall, wave shape. And obviously, the snake and ladder landing squares are outliers - most visited ladders, <i>36-44</i> and <i>28-84</i>; most visited snakes, <i>47-26</i> and <i>49-11</i>.<br /><br />NB/ technically I shouldn't include the 'entrances' of snakes and ladders in the graph, since when they're landed on, you move straight to the 'exits'. But for interests sake, they are included. They aren't included in the moves count as separate moves.<br /><br />You can also graph the number of moves it takes to get to the end<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_p_IGrzjF6JY/TUNsz7DNfbI/AAAAAAAAAdw/1mueaiOItJA/s1600/Moves-dist.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="182" src="http://2.bp.blogspot.com/_p_IGrzjF6JY/TUNsz7DNfbI/AAAAAAAAAdw/1mueaiOItJA/s400/Moves-dist.jpg" width="400" /></a></div>The minimum moves is <i>7</i>, and interestingly, you can also derive that answer from the network graph - that is the absolute <a href="http://en.wikipedia.org/wiki/Snakes_and_ladders#Mathematics_of_the_game">minimum</a>.<br /><br />In this simulation, the <a href="http://en.wikipedia.org/wiki/Mode_%28statistics%29">mode</a> is <i>21</i> and the average is <i>36.2</i>. The maximum, in this case, is effectively around <i>215</i>. But theoretically, if you were really unlucky you could keep landing on the same snake over and over; in which case, the maximum number of moves tends to infinity.<br /><br />And, the last thing to look at is how much more likely you are to land on a snake than a ladder. First of all, there are (typically) 10 snakes and 9 ladders, so the simple answer would be 1.11 times more likely.<br /><br />But when you go down a snake, as mentioned above, there's a chance you can go down the same snake again (or down other snakes or up other ladders). So it turns out, you're actually <i>1.23</i> times more likely to land on a snake than a ladder. Which isn't a dramatic difference; but the important thing is, you need no longer wonder.<br /><br />On average, you'll land on about <i>4</i> snakes and <i>3.2</i> ladders per game.<br /><br /><br /><b>End Games</b><br /><br />Say you land on square 97 and roll a four; there are three possible ways to end the game:<br /><br /><i>Past the End</i> - assume that moving past 100 means you've reached the end (this is what I did above).<br />This is the easiest way to end the game.<br /><br /><i>Roll Again</i> - stay in the same square and roll again until you roll a 3 (or less).<br />This is effectively the same as the above, except (on average) it takes more rolls of the dice (but not necessarily more moves) to reach the end.<br /><br /><i>Loop Back</i> - move three spaces forward (to 100) then one space back. Repeat until you land exactly one square 100.<br /><br />This last one takes longer to get to the end, and has a greater risk of you landing on the snakes on squares 95 or 98, sending you back to 75 and 78 respectively.<br /><br />And that's demonstrated in the graph below - both lines are effectively the same until about the last 25 squares, where the 'loop back' diverges towards more visits (as expected).<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_p_IGrzjF6JY/TUN0oh5g8sI/AAAAAAAAAd4/KJfs8tQutGk/s1600/loopback-comp.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="201" src="http://2.bp.blogspot.com/_p_IGrzjF6JY/TUN0oh5g8sI/AAAAAAAAAd4/KJfs8tQutGk/s400/loopback-comp.jpg" width="400" /></a></div>You also have the moves distribution,<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_p_IGrzjF6JY/TUNtVbSd_NI/AAAAAAAAAd0/fr7_YrL3Y1I/s1600/loop-move-dist.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="192" src="http://1.bp.blogspot.com/_p_IGrzjF6JY/TUNtVbSd_NI/AAAAAAAAAd0/fr7_YrL3Y1I/s400/loop-move-dist.png" width="400" /></a></div>which in this case is broader and pushed to right slightly; the average now <i>43.3. </i>Note also that <i>7</i> is still the minimum number of moves.<br /><br />Also, in the 'loop back', the odds of landing on a snake goes up again - now <i>1.41</i> times more likely than a ladder. So on average, you'll land on about <i>5.2</i> snakes and <i>3.7</i> ladders per game.<br /><br /><br /><b>Triple Sixes</b><br /><br />Another <a href="http://en.wikipedia.org/wiki/Snakes_and_ladders#Playing">rule</a> you could chose to include is - if you roll three 6s in a row, you go back to square 'zero'. <br /><br />According to the simulation, you'll roll a triple six in about <i>13.4%</i> of games, on average.<br /><br />But the triple six seems to have no significant effect on what squares you land on, the number of snake and ladders you'll land on, or oddly enough, the distribution of how many moves it takes to get to the end. This is probably because throwing triple sixes is so rare.<br /><br /><br />So there you go. Bet you didn't think snakes and ladders could be so complicated.<br /><br /><br />Oatzy.<br /><br /><br />* truth be told, this is something other people have already done. But I like to try these things for myself.