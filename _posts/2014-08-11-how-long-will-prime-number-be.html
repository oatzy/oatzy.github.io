---
layout: post
title: How Long Will a Prime Number Be?
date: '2014-08-11T15:37:00.000-07:00'
author: Oatzy
tags:
- probability
- mathematical methods
- problem solving
- puzzles
- maths
modified_time: '2014-08-11T15:37:38.754-07:00'
thumbnail: http://1.bp.blogspot.com/-FzkWyyt9t8Q/U-k2Sd22zyI/AAAAAAAABKQ/Sl5yYy1KsTQ/s72-c/exN.png
blogger_id: tag:blogger.com,1999:blog-14769935.post-5294002417505298865
blogger_orig_url: https://oatzy.blogspot.com/2014/08/how-long-will-prime-number-be.html
---

File this under things I think about when I'm trying to get to sleep.<br /><br /><br /><b>The Question</b><br /><br />The idea is this - pick a random integer between 0 and 9. If it's prime, stop. If it's not prime, pick another random integer and stick it on the end of the first number. If this new number is prime, stop. If it isn't prime, pick another random integer, and so on.<br /><br />So, for example:<br /><br />1 -&gt; not prime<br />2 -&gt; 12 -&gt; not prime<br />7 -&gt; 127 -&gt; prime -&gt; stop.<br /><br />The question is this - on average, how long would we expect the number to be when we get a prime?<br /><br /><br /><b>Sometime Programming Just Won't Cut It</b><br /><br />Normally, this is where I'd bust out Python and write a little program to run through the procedure a few times and see what happens. The problem is, <a href="http://en.wikipedia.org/wiki/Primality_test">testing whether a number is prime</a> tends to be really slooooow. <br /><br />The 'easiest' algorithm, <a href="http://en.wikipedia.org/wiki/Trial_division">trial division</a> - literally checking if the number is divisible by any of the integers less than it - has (worst case) speed O(sqrt(n)). What this means is, each time we add a digit to our number, it will take ~sqrt(10) = 3.16 times longer to check if it's prime. And that time soon adds up. There are quicker algorithms, for example <a href="http://en.wikipedia.org/wiki/AKS_primality_test">AKS</a>, but they're too complicated to bother with. <br /><br />Instead, we can figure out the answer with some good old-fashioned maths.<br /><br /><br /><b>Some Good Old-Fashioned Maths</b><br /><br />Lets re-state the problem - what we want to know is the expected length of the prime number. Here we use the standard definition for the <a href="http://en.wikipedia.org/wiki/Expected_value">expectation value</a><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-FzkWyyt9t8Q/U-k2Sd22zyI/AAAAAAAABKQ/Sl5yYy1KsTQ/s1600/exN.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-FzkWyyt9t8Q/U-k2Sd22zyI/AAAAAAAABKQ/Sl5yYy1KsTQ/s1600/exN.png" /></a></div><br />So now the problem is find p(N), which in this case is the probability that a number of length N is prime. Now, as any romantic mathematician will tell you, prime numbers are mysterious things, which are scattered about the number line seemingly at random. However, what we do have is the '<a href="http://en.wikipedia.org/wiki/Prime_number_theorem">Prime Number Theorem</a>', which estimates the number of prime numbers smaller than n, as<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-xQ7UqL5KmXo/U-lAEZzkopI/AAAAAAAABK8/jcFQ7pQjC1A/s1600/piN1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-xQ7UqL5KmXo/U-lAEZzkopI/AAAAAAAABK8/jcFQ7pQjC1A/s1600/piN1.png" /></a></div>where ln(n) is the <a href="http://en.wikipedia.org/wiki/Natural_logarithm">natural logarithm</a>. Here's a <a href="https://www.youtube.com/watch?v=l8ezziaEeNE">Numberphile video</a> explaining the theorem.<br /><br />So, for one digit numbers (numbers less than 10) there are ~10/log(10) = 4.2 prime numbers (well, technically 4, but this is an estimate). So the probability that a one digit number is prime is estimated as 0.42. The estimate gets better as the number of digits gets bigger.<br /><br />Now, for numbers of two or more digits, the number of primes that are N digits long is (approximately) the number of primes less than 10^N minus the number of primes less than 10^(N-1). So then, the probability of an N-digit number being prime is the number of N-digit primes divided by the total number of N-digit numbers. It can be shown (homework) that this probability is given by<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-_7R6NyTO7z8/U-k2oxY8ojI/AAAAAAAABKU/SyQ2T5utEtk/s1600/pN-eqn.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-_7R6NyTO7z8/U-k2oxY8ojI/AAAAAAAABKU/SyQ2T5utEtk/s1600/pN-eqn.png" /></a></div><br />Plotting this function, we see that the probability goes to zero as N goes to infinity<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-2WyYk42ZfS8/U-k3NSk4fZI/AAAAAAAABKk/gTDip1vzbeE/s1600/pN.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-2WyYk42ZfS8/U-k3NSk4fZI/AAAAAAAABKk/gTDip1vzbeE/s1600/pN.png" height="175" width="320" /></a></div><br />In other words, the longer the number gets the less likely it is to be prime. In this case, you can probably guess what the expected length of our prime will be.<br /><br />So we have<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-Ng83-jonPLo/U-k2yeygUSI/AAAAAAAABKc/0Oor-4P4LOU/s1600/exN1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-Ng83-jonPLo/U-k2yeygUSI/AAAAAAAABKc/0Oor-4P4LOU/s1600/exN1.png" /></a></div><br />And as N-&gt;infinity, N p(N) -&gt; 1/ln(10). What this means is the sum doesn't converge - it goes to infinity. So on average we expect our prime to be infinitely long.<br /><br /><br /><b>So Basically</b><br /><br />To cut a long story short, the procedure is most likely to stop when the number is only one digit long. Or else, the longer the number gets, the less likely the procedure is to stop. This is another reason why the programming solution was a non-starter. <br /><br /><br />Oatzy.<br /><br /><br />[Now stop doing maths and go to sleep.] 