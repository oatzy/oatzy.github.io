---
layout: post
title: Best Day to Go Shopping
date: '2011-12-09T17:08:00.001-08:00'
author: Oatzy
tags:
- foursquare
- statistics
- christmas
- graph
- programming
- python
- sociology
- data analysis
- maths
modified_time: '2011-12-10T16:58:05.968-08:00'
thumbnail: http://2.bp.blogspot.com/-nuViXOXXMqw/TuK0h_4JRJI/AAAAAAAAAtE/bg5kyXIVo80/s72-c/shoppers-norm-av.png
blogger_id: tag:blogger.com,1999:blog-14769935.post-6173983660618777230
blogger_orig_url: https://oatzy.blogspot.com/2011/12/best-day-to-go-shopping.html
---

<b>The Question</b><br /><br />As the title suggests - which is the best (least busy) day to go shopping on?<br /><br />Or more generally, how do crowds at shopping centres vary over time? Which days are busiest, or least busy? Are the shops getting busier as we get closer to Christmas? Less busy?!<br /><br />It an interesting question, and one that's probably been looked into before. But still, I had an idea and I'm running with it.<br /><br />[<i>Feel free to skip straight to the results if you're not interested in statistics and the likes..</i>] <br /><br /><br /><b>Data Collecting</b><br /><br />Data collection on this is tricky. Especially if you don't have legions of people to go out and actually count people. What I want to do is extract numbers with the minimum of effort.<br /><br />So here's the game - <a href="https://foursquare.com/">Foursquare</a>.<br /><br />If you're unfamiliar, Foursquare is a 'social game', for which you 'check-in' to locations and earn points and badges accordingly. It's also good if you're an <a href="http://oatzy.blogspot.com/2011/01/life-by-numbers-end-of-year-report.html">obsessive types</a> who likes to keep track of where they've been.<br /><br />So the idea is this - some subset of shoppers will be Foursquare users, who will check-in when they visit any given shopping centre. If we can extract check-in counts over a given time period, hopefully that can be used as an indicator of a place's 'busyness'. Obviously, this is flawed - but more on that below.<br /><br />Right. So on the Foursquare page for a given venue, there isn't a total historical record of check-ins over time. Instead, what we have is the total number of check-ins at that location up to the time when you loaded the webpage.<br /><br />What we do, then, is record that number at some fixed time every day (say, midnight). Then the number of check-ins on a given day is the difference between the total at the end of the day and the total for the end of the previous day. Easy.<br /><br />In fact, to make life a little easier, I wrote <a href="http://dl.dropbox.com/u/4635169/CheckinCounter.py">this bit of code</a> [python]. All I have to do is remember to run that every evening, and we have our data.<br /><br /><br /><b>Sampling</b><br /><br />There are two possible sources of <a href="http://en.wikipedia.org/wiki/Sampling_%28statistics%29#Errors_in_sample_surveys">sampling errors</a>:<br /><br />1) <i>Location</i><br /><br />If we only track one location, we have a very small <a href="http://en.wikipedia.org/wiki/Sample_size">sample size</a>. That means we're subject to perturbations - for example, a major event like the Christmas lights being switched on - or just general statistical noise. Also, shopping patterns may vary across the country, or depending on how close to a city centre the centre is located, and so on.<br /><br />It's actually fairly easy to overcome this. First of all, we have this list of the <a href="http://en.wikipedia.org/wiki/List_of_shopping_centres_in_the_United_Kingdom_by_size">largest shopping centres in the UK</a>. From that list I picked 20 locations to sample. This data can then be normalised and averaged to look for any general patterns that are (relatively) store independent.<br /><br />Oh, and I should probably mention, since this data is being collected from places in the UK only, patterns may vary for different countries.<br /><br /><br />2) <i>Users</i><br /><br />Using Foursquare data, we're working on the assumption that as the number of shoppers increases (or decreases), the number of Foursquare check-ins will <i>increase in proportion</i>.<br /><br />This is not necessarily the case.<br /><br />First of all, we look up the Foursquare user demographics. There is no one source of definitive data on this (that I could find). But to get a general idea, there is <a href="https://docs.google.com/viewer?a=v&amp;q=cache:VVFYrrMekikJ:www.bart.gov/docs/BART_Foursquare_Survey_Report.pdf+&amp;hl=en&amp;pid=bl&amp;srcid=ADGEESiK0XfFH2-xHiv8wsawT4DvsalcV3F_BPmhTEdUvfIHQKZnMdMzy7C4f3fv9KZ-2mrxiT-P37txiTuq0IzGJCjti7Oi_GsDYZt2VaIe0oXFUT-Ud5ot7C6YvzTa90sPLfyPlLkn&amp;sig=AHIEtbTDg0_FvLzUNjpxu4aKgCexA0L_bw&amp;pli=1">this</a>, based on a survey of BART travelers.<br /><br />Obviously, this demographic source is for users of an American transport service, but I'm assuming it's representative of Foursquare users in general.<br /><br />From this we see that the typical user is most likely male, age 25-34. Or to put it another way, women, young people, and old people are under-represented. And from my experience, it seems like women and old people are the most common shoppers on weekdays.<br /><br />So this may introduce a <a href="http://en.wikipedia.org/wiki/Sample_bias">disparity</a> between the data and reality. But it's not one we can really do anything about (without seeking an alternative source of data). So, as long as there is a general size proportionality between shoppers and check-ins, we'll consider the data acceptable.<br /><br /><br /><b>Results</b><br /><br />By far, Saturday is the worst day to go shopping (in terms of crowds). But you already knew that.<br /><br />So I have my data for the last 3 weeks, for 20 shopping centres across Britain. Here's the <a href="http://dl.dropbox.com/u/4635169/checkins.txt">raw data</a>, for if you're into that sort of thing.<br /><br />I worked out the check-ins for each place on each day, then normalised by shopping centre - so that the total number of check-ins for each shopping centre over the three week period now adds up to 100. I then averaged these 'norms' across all shopping centres.<br /><br />Here's what those results look like.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-nuViXOXXMqw/TuK0h_4JRJI/AAAAAAAAAtE/bg5kyXIVo80/s1600/shoppers-norm-av.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-nuViXOXXMqw/TuK0h_4JRJI/AAAAAAAAAtE/bg5kyXIVo80/s1600/shoppers-norm-av.png" /></a></div>In fact, I went back and 'tidied up' the data, removing venues with less than 100 check-ins total during the recording period - since their sample sizes were maybe too small for any patterns to be statistically significant - and removed a couple of anomalies (one place ended up with negative check-ins).<br /><br />This is what the tidy plot looks like <br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-8o8di7xFdaQ/TuP_siGZCAI/AAAAAAAAAtc/Ou8TXhPLKK8/s1600/adjusted-update.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-8o8di7xFdaQ/TuP_siGZCAI/AAAAAAAAAtc/Ou8TXhPLKK8/s1600/adjusted-update.png" /></a></div><i>[Updated since original post]</i><br /> <br />Pretty similar, but some of the bars are now closer together (removes the anomalies from Sunday and Wednesday).<br /><br />So from the results above, the order of days, from least to most busy, seems to be:<br /><br />1) <i><b>Monday</b></i><br />2) <i><b>Thursday</b></i><br />3) <i><b>Tuesday</b></i><br />4) <i><b>Wednesday</b></i><br />5) <i><b>Sunday</b></i><br />6) <i><b>Friday</b></i><br />7) <i><b>Saturday</b></i><br /><br />But note, it's pretty close amongst the top 3 least busy days.<br /><br />It shouldn't be too surprising that weekdays are less busy than weekends - what with people working. <br /><br />As for Sunday being so low compared to Friday and Saturday - well, that might be the result of Sunday opening hours.<br /><br />For example, <a href="http://www.meadowhall.co.uk/website/home.aspx">Meadowhall</a> has typical opening hours of 9am-8pm, but on Sundays it's 11am-5pm -&gt; 11hrs vs 6hrs. So maybe it would make sense to re-adjust accordingly. But deciding how, exactly, to re-adjust is tricky. So we'll just leave it be.<br /><br />NB/ Wednesday, week 2 maybe distorted due to <a href="http://www.bbc.co.uk/news/uk-15953806">public sector strikes</a> - there certainly appeared to be more people on the train. But but a lot of that increase was from children (see sample bias above). <br /><br /><br />Of course, each shopping centre is unique, and there will be variation as to which days are best and worse for each. As an example, here's what the (non-normilised) plot looks like for <a href="http://uk.westfield.com/london">Westfield London</a> (the most checked-in to shopping centre by far)<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-v9WKB0xpYys/TuK1O6kytUI/AAAAAAAAAtU/bj1x-4_gHBg/s1600/shoppers-westfield.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-v9WKB0xpYys/TuK1O6kytUI/AAAAAAAAAtU/bj1x-4_gHBg/s1600/shoppers-westfield.png" /></a></div>Again, pretty similar to the average. But in this case, Wednesday is less busy than the average, and Thursday more. And Friday has that weird dip in week 2, bringing its average down.<br /><br /><br />One last thing I'd like to point out - notice there is no particular week-on-week trend. That is, the number of check-ins isn't (on average) increasing as we get closer to Christmas. Or decreasing for that matter. Which is, perhaps, not what you'd expect.<br /><br />But maybe that will change within the next couple of weeks. And certainly after Christmas, when the January sales kick off. Maybe.<br /><br /><br />This is an on-going project - bear in mind, this is only 3 weeks worth of data, so it may be too soon to draw any solid conclusions - but I will keep you posted. Maybe I'll do another post just after Christmas, or after New Year's. At any rate, I'll tweet it when I do.<br /><br /><br />Oatzy.<br /><br /><br />[There's always online shopping..]