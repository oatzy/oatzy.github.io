---
layout: post
title: Metric and Binary Clocks (for Android)
date: '2015-01-09T09:01:00.000-08:00'
author: Oatzy
tags:
- time
- metric clock
- binary
- metric
- clock
- nerd
- android
- hand-waving
modified_time: '2015-01-11T16:57:50.352-08:00'
thumbnail: http://3.bp.blogspot.com/-1ptN_E0sBZE/VK22Ojbr9aI/AAAAAAAABRg/2a_c9eleKbo/s72-c/Screenshot_2013-10-12-17-13-30.png
blogger_id: tag:blogger.com,1999:blog-14769935.post-8863241527627371068
blogger_orig_url: https://oatzy.blogspot.com/2015/01/metric-and-binary-clocks-for-android.html
---

A long while back I wrote a couple of blogs about clocks. In <a href="http://oatzy.blogspot.co.uk/2010/08/decimalising-time.html">the first</a> I talked about decimalising time. Half a year later, I wrote <a href="http://oatzy.blogspot.co.uk/2011/01/needlessly-incomprehensible-clock.html">another</a> where I designed a couple of circular binary clocks. I thought I'd try to recreate those clocks for my phone.<br /><br />I had a widget making app - <a href="https://play.google.com/store/apps/details?id=org.zooper.zwfree&amp;hl=en_GB">Zooper</a> - installed on my phone, that I'd played with before. I build myself an autumnal homescreen, that looked like this.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-1ptN_E0sBZE/VK22Ojbr9aI/AAAAAAAABRg/2a_c9eleKbo/s1600/Screenshot_2013-10-12-17-13-30.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-1ptN_E0sBZE/VK22Ojbr9aI/AAAAAAAABRg/2a_c9eleKbo/s1600/Screenshot_2013-10-12-17-13-30.png" height="320" width="180" /></a></div>I don't use that theme anymore. These days I prefer a more minimalist homescreen - no widgets, as few icons as possible. But if you like it, you can <a href="https://www.dropbox.com/sh/h0xeohfu4lxoyuh/AAAbtXxZelo8YQSTbEAKa2gza?dl=0">[download]</a> the widgets/wallpaper for the above theme. You'll need the <a href="https://play.google.com/store/apps/details?id=com.batescorp.notificationmediacontrols.alpha&amp;hl=en_GB">Media Utilities</a> app for the music bar.<br /><br />Note - if you want to use any of the widgets I've linked in this blog, you'll need the <a href="https://play.google.com/store/apps/details?id=org.zooper.zwpro&amp;hl=en_GB">paid version</a> of Zooper. Alternatively, you can try to recreate them yourself - I'll include important details in this blog. There are other widget making apps, but I don't know much of using them.<br /><br /><br /><b>How to Make a Basic Clock Widget</b><br /><br />I'm going to quickly go over making a normal clock first so you can get a sense of how stuff works.<br /><br />Making a circular clock, such as below, is pretty straightforward. Create a progress bar object for the minutes (the inner ring) and set its 'curve' value to 360. Then set the min and max values to 0 and 60 respectively and set the current value to #Dm# (the current minutes). You may need to rotate and reposition it.<br /><br />Create the hours circle in much the same way - using #Dh# for 12h format, or #DH# for 24h format. There are then loads of style settings you can play with. In the end you'll have something like this.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-CqeGdG0Yd5g/VK3hzQJm0MI/AAAAAAAABRw/wiLxOFcZIKM/s1600/Screenshot_2015-01-07-19-36-25.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-CqeGdG0Yd5g/VK3hzQJm0MI/AAAAAAAABRw/wiLxOFcZIKM/s1600/Screenshot_2015-01-07-19-36-25.png" height="199" width="200" /></a></div>Above is actually one of the built-in widgets that I de-cluttered a little. So if you don't want to go to the trouble of creating a widget from scratch, you can just tweak the ones that are already installed.<br /><br />Note - all the clock images in this blog are shown on a grey background for clarity. Their actual backgrounds (if you download them) are transparent.<br /><br /><br /><b>Backwards Clock&nbsp; </b><a href="https://www.dropbox.com/s/uf5rakmombc5u1c/backwards-clock.zw?dl=0">[download]</a><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-hQyrHy-wv8Y/VK3iUAeX7HI/AAAAAAAABR4/r_FJRrrezBY/s1600/Screenshot_2015-01-07-17-54-47.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-hQyrHy-wv8Y/VK3iUAeX7HI/AAAAAAAABR4/r_FJRrrezBY/s1600/Screenshot_2015-01-07-17-54-47.png" height="200" width="196" /></a></div><br />This is actually the last one I made. I have an analogue backwards clock on my bedroom wall, that my sister got me from the <a href="http://www.sciencemuseum.org.uk/">Science Museum in London</a>. I figured, while I was at making clocks, why not make one of those as well. I put it second in this blogs because it's trivially different from the normal, forwards clock.<br /><br />As before, you make your hour and minute rings from progress bars, but in this case you set the curve to negative 360. Like I said, trivial.<br /><br /><br /><b>Decimalised/Metric Clock&nbsp; </b><a href="https://www.dropbox.com/s/9ze3ompo7awmuc5/decimal-clock.zw?dl=0">[download]</a><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-icK-w1XDn3E/VK3iqn_2nWI/AAAAAAAABSA/O1zsKda4TIA/s1600/Screenshot_2015-01-07-17-55-56.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://1.bp.blogspot.com/-icK-w1XDn3E/VK3iqn_2nWI/AAAAAAAABSA/O1zsKda4TIA/s1600/Screenshot_2015-01-07-17-55-56.png" height="200" width="193" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">That's 17:55 in real money.</td></tr></tbody></table>The idea behind 'metric' or decimalised time is that the day is redefined as being 10 hours long, with 100 minutes per hour and 100 seconds per minute. The construction of the clock itself is the same as for the normal clock, we just have to convert the current time to metric.<br /><br />For that, we first convert the current time to minutes, and divide that by the total number of minutes in a standard day (24*60) - this gives us the fraction of the day that's elapsed. Multiplying that by the number of hours in a metric day (10) gives us the current decimalised hour.<br /><br />For example, if we decimalise the time 12:51, we get  the hour as 5.3542. In fact, because of the way metric time works, 5, is the hour and the first two digits after the decimal point, 35, is the minutes. <br /><br />So for the hours ring, we set the current value to<br /><br /><pre class="brush: plain">$(0.00649*(60*#DH# + #Dm#))$</pre><br />The progress bar object will automatically round this down to the nearest whole number.<br /><br />To extract the minutes, we can use the '<a href="http://en.wikipedia.org/wiki/Modular_arithmetic">modulo</a>' operator (written as a percentage symbol '%' in coding). The modulo operator gives us the remainder from division. So if we multiply the (metric) hours by 100, and take mod 100 we get something like \((100\cdot 5.3542) \bmod 100 = (535.42 \bmod 100) = 35.42\). Again, the progress bar will round this down.<br /><br />So we can set the current value for the minutes ring to<br /><br /><pre class="brush: plain">$(0.649*(60*#DH# + #Dm#) % 100)$</pre><br />I also included a text output the decimalised time. As mentioned above, we can just calculate the metric hour, which will give us something like 5.35. But I wanted it to have it to have the 5:35 format like a normal clock. <br /><br />We already have our expressions above for the metric hours and minutes. We just need to slip in a couple of 'floor' functions to round them down to whole numbers. The other thing is that when the minutes is less than 10, they display as a one digit number, e.g. 5:3 instead of 5:03. To fix this we just throw in an if-statement.<br /><br />The code for the text output of the metric time looks like this<br /><br /><pre class="brush: text">$(floor(0.00694*(60*#DH#+#Dm#)))$:$(0.694*(60*#DH#+#Dm#)%100)&lt;10?(0)$$(floor(0.694*(60*#DH#+#Dm#)%100))$</pre><br />Yeah, it's a little unwieldy.<br /><br /><br /><b>Binary Clock&nbsp; </b><a href="https://www.dropbox.com/s/b0q1du0n4ml66hg/binary-clock.zw?dl=0">[download]</a><br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-yM32TGrtLEM/VK3kQlWezxI/AAAAAAAABSM/hiCBV4seO5M/s1600/Screenshot_2015-01-07-19-29-25.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://2.bp.blogspot.com/-yM32TGrtLEM/VK3kQlWezxI/AAAAAAAABSM/hiCBV4seO5M/s1600/Screenshot_2015-01-07-19-29-25.png" height="199" width="200" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><a href="https://en.wikipedia.org/wiki/Binary_number">10011:011101</a> = 19:29</td></tr></tbody></table>In this design, each segment on each ring represents a power of two/binary digit. When the segment is grey it's a zero, when it's blue it's a one. So in the above, the hour (outer ring) is 10011 in binary, or \(1\cdot 16 + 0\cdot 8 +0\cdot 4 + 1\cdot 2 + 1\cdot 1 = 19\), in base 10.<br /><br />In this case, we can't use progress bars. Instead, we have to make each ring segment an individual rectangle object, that will change its colour depending on whether it's representing a one or a zero. This makes constructing the clock a little less straightforward.<br /><br />For the minutes ring, create 6 rectangles each with a curve of 60, and rotated so that they form a circle. Similarly, for the hours ring create 5 rectangles with curve 72, and so on.<br /><br />I originally tried aligning everything 'free-hand'. That didn't work  so well, so I created a temporary full circle as a guide. Of course, you don't have to make a binary clock  circular - you could have it as a line of dot/bars. I just like the  circle design. <br /><br />Now, we need a way of converting the time to binary, and a way of telling each block whether the binary digit it represents is a one or a zero. At this point, I'm going to make a claim -<br /><br /><blockquote class="tr_bq"><i>The n-th digit of a number, x, in binary is a zero if \(x \bmod 2^{n+1} \lt 2^{n}\), or a one otherwise.</i></blockquote><br />I'll prove this in a supplemental blog, that will be posted shortly after this one. In the meantime, you might like to try proving it for yourself.*<br /><br /><i>[edit]</i> - You can read that supplemental blog <a href="http://oatzy.blogspot.co.uk/2015/01/follow-up-binary-proof-and-trinary-clock.html">here</a>. <br /><br />So we can use this condition to set/change the colours of each rectangle. For example, for the 2nd rectangle on the minutes ring (n=1), go to "Advanced Parameters", and enter something like<br /><br /><pre class="brush: plain">$(#Dm# % 4)&lt;2?([c]#19ffffff[/c]):([c]#ff1084cb[/c])$</pre><br />Or for the 5th rectangle on the hours ring (n=4), enter<br /><br /><pre class="brush: plain">$(#DH# % 32)&lt;16?([c]#19ffffff[/c]):([c]#ff1084cb[/c])$</pre><br />And so on.<br /><br />I also made an annotated version of the design <a href="https://www.dropbox.com/s/8kshu9xeeavxl2k/binary-num-clock.zw?dl=0">[download]</a> to make telling the time slightly easier; albeit at the cost of looking a little cluttered<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-LFDV5Sh_V-w/VK3khgUeghI/AAAAAAAABSU/VkrzATlnTyE/s1600/Screenshot_2015-01-05-20-45-07.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://3.bp.blogspot.com/-LFDV5Sh_V-w/VK3khgUeghI/AAAAAAAABSU/VkrzATlnTyE/s1600/Screenshot_2015-01-05-20-45-07.png" height="200" width="198" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">(16+4):(32+8+4+1) = 20:45</td></tr></tbody></table><br />I tried adding a seconds circle, like in the version from the old blog, but the widgets don't seem to refresh often enough for it to work. Which is a shame, 'cause it's fun to <a href="https://dl.dropboxusercontent.com/u/4635169/time/time2/index-alt.htm">watch the seconds move</a>.<br /><br /><br /><b>Proportional Binary Clock&nbsp; </b><a href="https://www.dropbox.com/s/3v3v4tutm1xucbs/alt-binary-clock.zw?dl=0">[download]</a><br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-acv8N3Bufeo/VK3lbXAGeSI/AAAAAAAABSc/H89C1BBHY4s/s1600/Screenshot_2015-01-07-13-52-11.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://4.bp.blogspot.com/-acv8N3Bufeo/VK3lbXAGeSI/AAAAAAAABSc/H89C1BBHY4s/s1600/Screenshot_2015-01-07-13-52-11.png" height="196" width="200" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">13:52</td></tr></tbody></table><br />This is pretty much the same as the one above, except, each segment is sized in proportion to the power of two it represents - the 8-segment is four times as big as the 2-segment, etc. I did this to give a better perspective on how much time has passed - because, really, one minute shouldn't take up as much of the clock face as 16 minutes. And also, I just think it looks neat.<br /><br />The mechanics work the same as above. The tricky part is getting the rectangle sizes, curves and rotations right, and getting everything lined up just right, without loosing you mind over how that one bit is half a pixel out of place and there's nothing you can do about it so just let it go, okay!<br /><br />Okay...<br /><br /><br />Oatzy.<br /><br /><br />[Making a backwards, binary, metric clock is left as an exercise for the reader.]<br /><br /><br />* Hint: Try re-writing x as a sum of powers of 2.<br />Bonus: Generalise for other bases.